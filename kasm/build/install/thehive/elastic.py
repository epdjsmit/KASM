#!/usr/bin/env python3 -tt

def main():
    content = '# ======================== Elasticsearch Configuration =========================\n#\n# NOTE: Elasticsearch comes with reasonable defaults for most settings.\n#       Before you set out to tweak and tune the configuration, make sure you\n#       understand what are you trying to accomplish and the consequences.\n#\n# The primary way of configuring a node is via this file. This template lists\n# the most important settings you may want to configure for a production cluster.\n#\n# Please consult the documentation for further information on configuration options:\n# https://www.elastic.co/guide/en/elasticsearch/reference/index.html\n#\n# ---------------------------------- Cluster -----------------------------------\n#\n# Use a descriptive name for your cluster:\n#\ncluster.name: hive # thehive\n#\n# ------------------------------------ Node ------------------------------------\n#\n# Use a descriptive name for the node:\n#\n#node.name: node-1\n#\n# Add custom attributes to the node:\n#\n#node.attr.rack: r1\n#\n# ----------------------------------- Paths ------------------------------------\n#\n# Path to directory where to store the data (separate multiple locations by comma):\n#\npath.data: /var/lib/elasticsearch\n#\n# Path to log files:\n#\npath.logs: /var/log/elasticsearch\n#\n# ----------------------------------- Memory -----------------------------------\n#\n# Lock the memory on startup:\n#\n#bootstrap.memory_lock: true\n#\n# Make sure that the heap size is set to about half the memory available\n# on the system and that the owner of the process is allowed to use this\n# limit.\n#\n# Elasticsearch performs poorly when the system is swapping the memory.\n#\n# ---------------------------------- Network -----------------------------------\n#\n# By default Elasticsearch is only accessible on localhost. Set a different\n# address here to expose this node on the network:\n#\ntransport.host: 127.0.0.1 # thehive\n#network.host: 192.168.0.1\n#\n# By default Elasticsearch listens for HTTP traffic on the first free port it\n# finds starting at 9200. Set a specific HTTP port here:\n#\nhttp.port: 9200\n#\n# For more information, consult the network module documentation.\n#\n# --------------------------------- Discovery ----------------------------------\n#\n# Pass an initial list of hosts to perform discovery when this node is started:\n# The default list of hosts is ["127.0.0.1", "[::1]"]\n#\n#discovery.seed_hosts: ["host1", "host2"]\n#\n# Bootstrap the cluster using an initial set of master-eligible nodes:\n#\n#cluster.initial_master_nodes: ["node-1", "node-2"]\n#\n# For more information, consult the discovery and cluster formation module documentation.\n#\n# ---------------------------------- Various -----------------------------------\n#\n# Require explicit names when deleting indices:\n#\nthread_pool.search.queue_size: 100000 # thehive\nxpack.security.enabled: false # thehive\nscript.allowed_types: "inline,stored" # thehive\n#action.destructive_requires_name: true\n#\n# ---------------------------------- Security ----------------------------------\n#\n#                                 *** WARNING ***\n#\n# Elasticsearch security features are not enabled by default.\n# These features are free, but require configuration changes to enable them.\n# This means that users donâ€™t have to provide credentials and can get full access\n# to the cluster. Network connections are also not encrypted.\n#\n# To protect your data, we strongly encourage you to enable the Elasticsearch security features. \n# Refer to the following documentation for instructions.\n#\n# https://www.elastic.co/guide/en/elasticsearch/reference/7.16/configuring-stack-security.html\n'
    with open("/etc/elasticsearch/elasticsearch.yml", "w") as elasticyaml:
        elasticyaml.write(content)

if __name__ == "__main__":
    main()